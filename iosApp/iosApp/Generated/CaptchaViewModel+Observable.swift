// Generated by SwiftObservableGen. DO NOT EDIT.

import Foundation
import Combine
import SharedSDK

@MainActor
public final class ObservableCaptchaViewModel: ObservableObject {
    private let vm: CaptchaViewModel
    
    @Published public private(set) var uiState: CaptchaViewState
    private var _stateTask: Task<Void, Never>?
    
    public init(_ vm: CaptchaViewModel) {
        self.vm = vm
        self.uiState = vm.uiState.value
        self._stateTask = Task { [weak self] in
            guard let self else { return }
            for await newValue in vm.uiState {
                self.uiState = newValue
            }
        }
    }
    
    deinit {
        _stateTask?.cancel()
        vm.dispose()
    }
    
    public func onAction(action: CaptchaViewAction) {
        vm.onAction(action: action)
    }
    
}
